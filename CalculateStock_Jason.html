<!DOCTYPE html>
<html lang="en">

<link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

<head>
    <meta charset="UTF-8">
    <title>Stock Profit Calculator</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h2 {
          font-size: 50px;
          color:rgb(11, 70, 232);
        }
        .fee-box {
          font-size: 50px;
          font-weight: bold;
          color: #080100;
        }
        .result-box {
          font-size: 50px;
          font-weight: bold;
          color: #080100;
        }
        .profit-box {
          font-size: 50px;
          font-weight: bold;
          color: #080100;
        }
        .rich-image {
          width: 100%;          /* 寬度隨容器調整 */
          max-width: 600px;     /* 最大寬度限制 */
          border-radius: 15px;  /* 圓角效果，跟你的輸入框風格一致 */
          margin-top: 20px;
          border: 3px solid #ccc;
        }
    </style>
</head>

<body>
  <h2>Stock Profit & Loss Calculator</h2>

  <style>
    /* 針對所有文字輸入框 */
    input[type="text"] {
        padding-left: 10px;
        padding-right: 15px;      /* 內文字與邊框的距離，增加點擊感 */
        padding-top: 10px;
        width: 240px;             /* 寬度 */
        height: 80px;             /* 高度 */
        font-size: 50px;          /* 讓輸入的文字大一點 */
        border: 3px solid #ccc; /* 設定邊框 */
        border-radius: 8px;       /* 增加圓角讓視覺更柔和 */
    }
  </style>

  <style>
    .label-text {
      font-size: 50px;    /* 字體大小 */
      font-weight: bold;  /* 加粗 */
      color: #080100;   /* 字體顏色 (例如紅色) */
    }
  </style>

  <style>
    /* 使用 # 來指定 id */
    #sumButtonId {
      font-size: 50px;              /* 字體大小 */
      font-weight: bold;            /* 加粗 */
      padding: 10px 10px;           /* 內距：第一個值是上下，第二個值是左右 */
      min-width: 60px;              /* 也可以直接指定最小寬度 */
      margin-right: 65px;
      cursor: pointer;              /* 滑鼠游標變手指 */
      background-color: #f0f0f0;  /* 背景顏色 */
      border: 2px solid #333;     /* 邊框 */
      border-radius: 10px;          /* 圓角 */
    }
  
    /* 滑鼠移上去時的視覺效果 */
    #sumButtonId:hover {
      background-color: #ddd;
    }
  </style>

  <style>
    #author-info {
      font-size: 50px;          /* 設定字體大小 */
      font-weight: bold;        /* 加粗 */
      color:rgb(11, 70, 232); /* 設定顏色 (灰度) */
      margin-top: 30px;         /* 與上方內容保持距離 */
      font-style: italic;       /* (選填) 斜體增加質感 */
      text-align: left;         /* (選填) 靠右對齊 */
  }
  </style>

  <div style="display: flex; align-items: flex-start;">
    <div>
      <p>
        <span class = "label-text">買價　　</span>
        <input type = "text" id = "bidId">
        <span class = "label-text"> 元</span>
      </p>

      <p>
        <span class = "label-text">賣價　　</span>
        <input type = "text" id = "askId">
        <span class = "label-text">元</span>
      </p>

      <p>
        <span class = "label-text">股數　　</span>
        <input type = "text" id = "shareId" value = "1000">
        <span class = "label-text">股</span>
      </p>
    </div>

    <div style="margin-left: 80px; margin-top: 20px;">
    <img src="rich.jpg" alt="Rich" style="width: 250px; border-radius: 10px; border: 3px solid #ccc;">
    </div>
  </div>

  <p>
    <span class = "label-text">手續費　</span>
    <input type = "text" id = "feeDiscountId" value = "100">
    <span class = "label-text"> (%)：</span>
    <span class = "fee-box" id = "feeId">　　0</span>
    <span class = "label-text">　元</span>
  </p>

  <p>
    <button id = 'sumButtonId'>SUM</button>
    <span class = "result-box" id = "resultId"> 0</span>
    <span class = "label-text">　元</span>
    <span class="result-box" id = "percentId" style="margin-left: 20px;"> (0.00%)</span>
  </p>

  <script>
  document.getElementById('sumButtonId').onclick = function() {
    // 選取輸入欄位的 DOM 並宣告變數名，用 value 帶出輸入欄的值。
    const bid = parseFloat(document.getElementById('bidId').value) || 0;
    const ask = parseFloat(document.getElementById('askId').value) || 0;
    const share = parseInt(document.getElementById('shareId').value) || 0;
    const feeDiscount = parseInt(document.getElementById('feeDiscountId').value) || 0;
  
    // 再用一個變數儲存金額加總
    const fee = parseFloat((bid + ask) * 1.425 * (feeDiscount / 100));
    const sum = parseFloat((ask - bid - ask * 0.003) * share - fee);
    //const percent = parseFloat(((ask - bid -ask * 0.004425 - bid * 0.001425) / bid) * 100);
    const percent = parseFloat((sum / (bid * 1000)) * 100);

    // 將結果格式化（加上千分位與顏色區分）
    const displayFee = document.getElementById('feeId');
    const displayResult = document.getElementById('resultId');
    const displayPercent = document.getElementById('percentId');
   
    // 使用 toLocaleString 並透過參數設定小數點位數與千分位
    // minimumFractionDigits: 2 (確保至少顯示兩位小數)
    // maximumFractionDigits: 2 (最多顯示兩位小數)
    displayFee.textContent = fee.toLocaleString('en-US', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    });

    displayResult.textContent = sum.toLocaleString('en-US', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    });
  
    // 簡單的視覺回饋：獲利為正顯示紅色，負值顯示綠色 (美股通常綠漲紅跌)
    // display.style.color = sum >= 0 ? "#e74c3c" : "#27ae60";
  
    // 更新百分比顯示 (顯示到小數點後兩位)
    displayPercent.textContent = `(${percent.toFixed(2)}%)`;
  
    // 統一顏色判斷 (簡單的視覺回饋：獲利為正顯示紅色，負值顯示綠色。)
    const color = sum >= 0 ? "#e74c3c" : "#27ae60";
    displayResult.style.color = color;
    displayPercent.style.color = color;
  }
  </script>

  <div id="author-info">Jason Lin (January 05, 2026)</div>
</body>
</html>